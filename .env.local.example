# Local Development Environment Variables
# Copy this file to .env and fill in your actual values

# Environment
ENV=production
DEBUG=1

# Database (for local Docker)
DATABASE_URL=postgresql://postgres:postgres@db:5432/billetera

# Django Security
SECRET_KEY=your-local-secret-key-here
ALLOWED_HOSTS=localhost,127.0.0.1
CSRF_TRUSTED_ORIGINS=http://localhost:8000

# Cloudflare R2 Storage (get these from your R2 dashboard)
AWS_ACCESS_KEY_ID=your-r2-access-key-here
AWS_SECRET_ACCESS_KEY=your-r2-secret-key-here
AWS_STORAGE_BUCKET_NAME=your-bucket-name
AWS_S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
AWS_S3_REGION=auto
AWS_S3_ADDRESSING_STYLE=virtual

# ---------------------------------------------------------------------
# Google OIDC / OAuth2 (required for Google login via PKCE)
# Create an OAuth client in Google Cloud Console and set the redirect URI.
# For server-side (Django templates with allauth) use the backend callback:
#   http://localhost:8000/accounts/google/login/callback/
# For SPA (PKCE) alternative, set it to your frontend callback instead (e.g. http://localhost:3000/auth/callback)
GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=
# Must match exactly the redirect URI registered in Google Console
GOOGLE_REDIRECT_URI=http://localhost:8000/accounts/google/login/callback/

# Optional: restrict to a Google Workspace hosted domain (e.g. "example.com")
# Leave empty to allow any Google account
GOOGLE_HOSTED_DOMAIN=

# ---------------------------------------------------------------------
# Site / Allauth
# SITE_ID should match the Site entry used by SocialApp (default 1)
SITE_ID=1

# ---------------------------------------------------------------------
# CORS (optional - enable for SPA development)
# Set ENABLE_CORS=1 to add corsheaders support in settings
ENABLE_CORS=1
# Comma-separated or single entry; adjust to your frontend origin(s)
CORS_ALLOWED_ORIGINS=http://localhost:3000

# ---------------------------------------------------------------------
# Debugging / token policy (optional overrides)
# You can customize token lifetime via env if your settings read them;
# otherwise adjust SIMPLE_JWT in settings.py
# ACCESS_TOKEN_LIFETIME_MINUTES=30
# REFRESH_TOKEN_LIFETIME_DAYS=7

# ---------------------------------------------------------------------
# Usage:
# - Copy this file to .env
# - Fill GOOGLE_OAUTH_CLIENT_ID and GOOGLE_OAUTH_CLIENT_SECRET with values
# - Make sure GOOGLE_REDIRECT_URI matches the one registered in Google Console
# - Run: python manage.py migrate
# - Run: python manage.py bootstrap_google_socialapp
